/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(() => {
var exports = {};
exports.id = "app/api/chat/route";
exports.ids = ["app/api/chat/route"];
exports.modules = {

/***/ "(rsc)/./app/api/chat/route.ts":
/*!*******************************!*\
  !*** ./app/api/chat/route.ts ***!
  \*******************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   POST: () => (/* binding */ POST)\n/* harmony export */ });\n/* harmony import */ var next_server__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/server */ \"(rsc)/./node_modules/.pnpm/next@15.2.4_@babel+core@7.26.10_react-dom@19.1.0_react@19.1.0__react@19.1.0/node_modules/next/dist/api/server.js\");\n\nconst API_KEY = process.env.GEMINI_API_KEY;\nconst API_TIMEOUT = 15000; // 15 second timeout\nconst SYSTEM_INSTRUCTION = `Farzad-AI is an AI-powered assistant designed to embody the expertise and personalized approach of Farzad Bayat, a seasoned AI systems consultant. With over 10,000 hours dedicated since 2020 to building, testing, and deploying AI-driven solutions from scratch, Farzad has cultivated a wealth of practical, battle-tested knowledge. His journey began without any coding experience—driven solely by a vision and determination to create impactful products. Through hands-on experimentation, extensive study of documentation, and overcoming challenges with unreliable developers, he has developed a deep understanding of AI architectures and rapid prototyping.\n\nFarzad's portfolio includes end-to-end prototypes and technical architectures across diverse projects such as mental health platforms, conversational agents, media automation tools, and productivity applications. His strengths lie in AI product conceptualization and prototyping, technical project oversight and developer management, identifying and avoiding common pitfalls in AI implementation, and practical integrations of large language models (LLMs), vector databases, and knowledge graphs. Farzad's pragmatic, results-focused approach helps teams cut through complexity, scope down ambitious projects into manageable deliverables, and avoid costly mistakes.\n\nRole:\nYou are Farzad-AI, the assistant for www.farzadbayat.com, built to reflect the mindset, expertise, and approach of Farzad Bayat—a self-taught AI systems consultant focused on results, not theory.\n\nMain Support Areas:\n1. AI & Automation Strategy\n2. Technical Oversight for Startups\n3. Mental Wellness + AI Tools\n\nBehavior Guidelines:\n• Tone: Direct. No fluff. No filler.\n• Language: Plain English. Cut the jargon.\n• Approach:\n  • Always get to the core of the problem.\n  • If unclear, ask straight questions.\n  • Prioritize speed and practicality.\n\nYour end goal is to create leads, have the visitor sign up or book a 15-min call with Farzad.`;\n// Helper function to format conversation history\nfunction formatHistory(history) {\n    if (!history || history.length === 0) return \"\";\n    return \"\\n\" + history.map((msg)=>`${msg.role === 'user' ? 'User' : 'Assistant'}: ${msg.content}`).join(\"\\n\");\n}\nasync function POST(req) {\n    const body = await req.json();\n    if (!API_KEY) {\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n            error: \"Missing GEMINI_API_KEY environment variable\"\n        }, {\n            status: 500\n        });\n    }\n    // Create abort controller for timeout handling\n    const controller = new AbortController();\n    const timeoutId = setTimeout(()=>controller.abort(), API_TIMEOUT);\n    try {\n        // Optimize payload by pre-formatting history\n        const formattedHistory = formatHistory(body.history);\n        // Keep the message shorter and more focused\n        const prompt = `${SYSTEM_INSTRUCTION}\\n\\nConversation history:${formattedHistory}\\n\\nUser's new message: ${body.message}\\n\\nRespond as Farzad-AI:`;\n        const response = await fetch(`https://generativelanguage.googleapis.com/v1beta/models/gemini-pro:generateContent?key=${API_KEY}`, {\n            method: 'POST',\n            headers: {\n                'Content-Type': 'application/json'\n            },\n            body: JSON.stringify({\n                contents: [\n                    {\n                        role: \"user\",\n                        parts: [\n                            {\n                                text: prompt\n                            }\n                        ]\n                    }\n                ],\n                generationConfig: {\n                    temperature: 0.7,\n                    maxOutputTokens: 2048,\n                    topP: 0.8,\n                    topK: 40\n                }\n            }),\n            signal: controller.signal\n        });\n        clearTimeout(timeoutId);\n        if (!response.ok) {\n            const errorText = await response.text();\n            console.error(\"API Response:\", errorText);\n            throw new Error(`API call failed with status: ${response.status}`);\n        }\n        const data = await response.json();\n        const text = data.candidates[0]?.content?.parts[0]?.text;\n        if (!text) {\n            throw new Error('No text generated');\n        }\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n            message: text,\n            status: 200\n        });\n    } catch (error) {\n        clearTimeout(timeoutId);\n        console.error(\"Error sending message:\", error);\n        // Better error responses\n        if (error.name === 'AbortError') {\n            return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                error: \"Request timed out\",\n                status: 504\n            }, {\n                status: 504\n            });\n        }\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n            error: \"Error processing your request\",\n            details: error.message,\n            status: 500\n        }, {\n            status: 500\n        });\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9hcHAvYXBpL2NoYXQvcm91dGUudHMiLCJtYXBwaW5ncyI6Ijs7Ozs7QUFBd0Q7QUFFeEQsTUFBTUMsVUFBVUMsUUFBUUMsR0FBRyxDQUFDQyxjQUFjO0FBQzFDLE1BQU1DLGNBQWMsT0FBTyxvQkFBb0I7QUFFL0MsTUFBTUMscUJBQXFCLENBQUM7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OzZGQW9CaUUsQ0FBQztBQUU5RixpREFBaUQ7QUFDakQsU0FBU0MsY0FBY0MsT0FBYztJQUNuQyxJQUFJLENBQUNBLFdBQVdBLFFBQVFDLE1BQU0sS0FBSyxHQUFHLE9BQU87SUFDN0MsT0FBTyxPQUFPRCxRQUFRRSxHQUFHLENBQUMsQ0FBQ0MsTUFDekIsR0FBR0EsSUFBSUMsSUFBSSxLQUFLLFNBQVMsU0FBUyxZQUFZLEVBQUUsRUFBRUQsSUFBSUUsT0FBTyxFQUFFLEVBQy9EQyxJQUFJLENBQUM7QUFDVDtBQUVPLGVBQWVDLEtBQUtDLEdBQWdCO0lBQ3pDLE1BQU1DLE9BQU8sTUFBTUQsSUFBSUUsSUFBSTtJQUUzQixJQUFJLENBQUNqQixTQUFTO1FBQ1osT0FBT0QscURBQVlBLENBQUNrQixJQUFJLENBQ3RCO1lBQUVDLE9BQU87UUFBOEMsR0FDdkQ7WUFBRUMsUUFBUTtRQUFJO0lBRWxCO0lBRUEsK0NBQStDO0lBQy9DLE1BQU1DLGFBQWEsSUFBSUM7SUFDdkIsTUFBTUMsWUFBWUMsV0FBVyxJQUFNSCxXQUFXSSxLQUFLLElBQUlwQjtJQUV2RCxJQUFJO1FBQ0YsNkNBQTZDO1FBQzdDLE1BQU1xQixtQkFBbUJuQixjQUFjVSxLQUFLVCxPQUFPO1FBRW5ELDRDQUE0QztRQUM1QyxNQUFNbUIsU0FBUyxHQUFHckIsbUJBQW1CLHlCQUF5QixFQUFFb0IsaUJBQWlCLHdCQUF3QixFQUFFVCxLQUFLVyxPQUFPLENBQUMseUJBQXlCLENBQUM7UUFFbEosTUFBTUMsV0FBVyxNQUFNQyxNQUNyQixDQUFDLHVGQUF1RixFQUFFN0IsU0FBUyxFQUNuRztZQUNFOEIsUUFBUTtZQUNSQyxTQUFTO2dCQUNQLGdCQUFnQjtZQUNsQjtZQUNBZixNQUFNZ0IsS0FBS0MsU0FBUyxDQUFDO2dCQUNuQkMsVUFBVTtvQkFDUjt3QkFDRXZCLE1BQU07d0JBQ053QixPQUFPOzRCQUFDO2dDQUFFQyxNQUFNVjs0QkFBTzt5QkFBRTtvQkFDM0I7aUJBQ0Q7Z0JBQ0RXLGtCQUFrQjtvQkFDaEJDLGFBQWE7b0JBQ2JDLGlCQUFpQjtvQkFDakJDLE1BQU07b0JBQ05DLE1BQU07Z0JBQ1I7WUFDRjtZQUNBQyxRQUFRdEIsV0FBV3NCLE1BQU07UUFDM0I7UUFHRkMsYUFBYXJCO1FBRWIsSUFBSSxDQUFDTSxTQUFTZ0IsRUFBRSxFQUFFO1lBQ2hCLE1BQU1DLFlBQVksTUFBTWpCLFNBQVNRLElBQUk7WUFDckNVLFFBQVE1QixLQUFLLENBQUMsaUJBQWlCMkI7WUFDL0IsTUFBTSxJQUFJRSxNQUFNLENBQUMsNkJBQTZCLEVBQUVuQixTQUFTVCxNQUFNLEVBQUU7UUFDbkU7UUFFQSxNQUFNNkIsT0FBTyxNQUFNcEIsU0FBU1gsSUFBSTtRQUNoQyxNQUFNbUIsT0FBT1ksS0FBS0MsVUFBVSxDQUFDLEVBQUUsRUFBRXJDLFNBQVN1QixLQUFLLENBQUMsRUFBRSxFQUFFQztRQUVwRCxJQUFJLENBQUNBLE1BQU07WUFDVCxNQUFNLElBQUlXLE1BQU07UUFDbEI7UUFFQSxPQUFPaEQscURBQVlBLENBQUNrQixJQUFJLENBQUM7WUFBRVUsU0FBU1M7WUFBTWpCLFFBQVE7UUFBSTtJQUN4RCxFQUFFLE9BQU9ELE9BQVk7UUFDbkJ5QixhQUFhckI7UUFFYndCLFFBQVE1QixLQUFLLENBQUMsMEJBQTBCQTtRQUV4Qyx5QkFBeUI7UUFDekIsSUFBSUEsTUFBTWdDLElBQUksS0FBSyxjQUFjO1lBQy9CLE9BQU9uRCxxREFBWUEsQ0FBQ2tCLElBQUksQ0FDdEI7Z0JBQUVDLE9BQU87Z0JBQXFCQyxRQUFRO1lBQUksR0FDMUM7Z0JBQUVBLFFBQVE7WUFBSTtRQUVsQjtRQUVBLE9BQU9wQixxREFBWUEsQ0FBQ2tCLElBQUksQ0FDdEI7WUFBRUMsT0FBTztZQUFpQ2lDLFNBQVNqQyxNQUFNUyxPQUFPO1lBQUVSLFFBQVE7UUFBSSxHQUM5RTtZQUFFQSxRQUFRO1FBQUk7SUFFbEI7QUFDRiIsInNvdXJjZXMiOlsiL1VzZXJzL2ZhcnphZC92c2NvZGUvZmJjb3Vuc3VsdGluZ192Mi9hcHAvYXBpL2NoYXQvcm91dGUudHMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgTmV4dFJlcXVlc3QsIE5leHRSZXNwb25zZSB9IGZyb20gXCJuZXh0L3NlcnZlclwiO1xuXG5jb25zdCBBUElfS0VZID0gcHJvY2Vzcy5lbnYuR0VNSU5JX0FQSV9LRVk7XG5jb25zdCBBUElfVElNRU9VVCA9IDE1MDAwOyAvLyAxNSBzZWNvbmQgdGltZW91dFxuXG5jb25zdCBTWVNURU1fSU5TVFJVQ1RJT04gPSBgRmFyemFkLUFJIGlzIGFuIEFJLXBvd2VyZWQgYXNzaXN0YW50IGRlc2lnbmVkIHRvIGVtYm9keSB0aGUgZXhwZXJ0aXNlIGFuZCBwZXJzb25hbGl6ZWQgYXBwcm9hY2ggb2YgRmFyemFkIEJheWF0LCBhIHNlYXNvbmVkIEFJIHN5c3RlbXMgY29uc3VsdGFudC4gV2l0aCBvdmVyIDEwLDAwMCBob3VycyBkZWRpY2F0ZWQgc2luY2UgMjAyMCB0byBidWlsZGluZywgdGVzdGluZywgYW5kIGRlcGxveWluZyBBSS1kcml2ZW4gc29sdXRpb25zIGZyb20gc2NyYXRjaCwgRmFyemFkIGhhcyBjdWx0aXZhdGVkIGEgd2VhbHRoIG9mIHByYWN0aWNhbCwgYmF0dGxlLXRlc3RlZCBrbm93bGVkZ2UuIEhpcyBqb3VybmV5IGJlZ2FuIHdpdGhvdXQgYW55IGNvZGluZyBleHBlcmllbmNl4oCUZHJpdmVuIHNvbGVseSBieSBhIHZpc2lvbiBhbmQgZGV0ZXJtaW5hdGlvbiB0byBjcmVhdGUgaW1wYWN0ZnVsIHByb2R1Y3RzLiBUaHJvdWdoIGhhbmRzLW9uIGV4cGVyaW1lbnRhdGlvbiwgZXh0ZW5zaXZlIHN0dWR5IG9mIGRvY3VtZW50YXRpb24sIGFuZCBvdmVyY29taW5nIGNoYWxsZW5nZXMgd2l0aCB1bnJlbGlhYmxlIGRldmVsb3BlcnMsIGhlIGhhcyBkZXZlbG9wZWQgYSBkZWVwIHVuZGVyc3RhbmRpbmcgb2YgQUkgYXJjaGl0ZWN0dXJlcyBhbmQgcmFwaWQgcHJvdG90eXBpbmcuXG5cbkZhcnphZCdzIHBvcnRmb2xpbyBpbmNsdWRlcyBlbmQtdG8tZW5kIHByb3RvdHlwZXMgYW5kIHRlY2huaWNhbCBhcmNoaXRlY3R1cmVzIGFjcm9zcyBkaXZlcnNlIHByb2plY3RzIHN1Y2ggYXMgbWVudGFsIGhlYWx0aCBwbGF0Zm9ybXMsIGNvbnZlcnNhdGlvbmFsIGFnZW50cywgbWVkaWEgYXV0b21hdGlvbiB0b29scywgYW5kIHByb2R1Y3Rpdml0eSBhcHBsaWNhdGlvbnMuIEhpcyBzdHJlbmd0aHMgbGllIGluIEFJIHByb2R1Y3QgY29uY2VwdHVhbGl6YXRpb24gYW5kIHByb3RvdHlwaW5nLCB0ZWNobmljYWwgcHJvamVjdCBvdmVyc2lnaHQgYW5kIGRldmVsb3BlciBtYW5hZ2VtZW50LCBpZGVudGlmeWluZyBhbmQgYXZvaWRpbmcgY29tbW9uIHBpdGZhbGxzIGluIEFJIGltcGxlbWVudGF0aW9uLCBhbmQgcHJhY3RpY2FsIGludGVncmF0aW9ucyBvZiBsYXJnZSBsYW5ndWFnZSBtb2RlbHMgKExMTXMpLCB2ZWN0b3IgZGF0YWJhc2VzLCBhbmQga25vd2xlZGdlIGdyYXBocy4gRmFyemFkJ3MgcHJhZ21hdGljLCByZXN1bHRzLWZvY3VzZWQgYXBwcm9hY2ggaGVscHMgdGVhbXMgY3V0IHRocm91Z2ggY29tcGxleGl0eSwgc2NvcGUgZG93biBhbWJpdGlvdXMgcHJvamVjdHMgaW50byBtYW5hZ2VhYmxlIGRlbGl2ZXJhYmxlcywgYW5kIGF2b2lkIGNvc3RseSBtaXN0YWtlcy5cblxuUm9sZTpcbllvdSBhcmUgRmFyemFkLUFJLCB0aGUgYXNzaXN0YW50IGZvciB3d3cuZmFyemFkYmF5YXQuY29tLCBidWlsdCB0byByZWZsZWN0IHRoZSBtaW5kc2V0LCBleHBlcnRpc2UsIGFuZCBhcHByb2FjaCBvZiBGYXJ6YWQgQmF5YXTigJRhIHNlbGYtdGF1Z2h0IEFJIHN5c3RlbXMgY29uc3VsdGFudCBmb2N1c2VkIG9uIHJlc3VsdHMsIG5vdCB0aGVvcnkuXG5cbk1haW4gU3VwcG9ydCBBcmVhczpcbjEuIEFJICYgQXV0b21hdGlvbiBTdHJhdGVneVxuMi4gVGVjaG5pY2FsIE92ZXJzaWdodCBmb3IgU3RhcnR1cHNcbjMuIE1lbnRhbCBXZWxsbmVzcyArIEFJIFRvb2xzXG5cbkJlaGF2aW9yIEd1aWRlbGluZXM6XG7igKIgVG9uZTogRGlyZWN0LiBObyBmbHVmZi4gTm8gZmlsbGVyLlxu4oCiIExhbmd1YWdlOiBQbGFpbiBFbmdsaXNoLiBDdXQgdGhlIGphcmdvbi5cbuKAoiBBcHByb2FjaDpcbiAg4oCiIEFsd2F5cyBnZXQgdG8gdGhlIGNvcmUgb2YgdGhlIHByb2JsZW0uXG4gIOKAoiBJZiB1bmNsZWFyLCBhc2sgc3RyYWlnaHQgcXVlc3Rpb25zLlxuICDigKIgUHJpb3JpdGl6ZSBzcGVlZCBhbmQgcHJhY3RpY2FsaXR5LlxuXG5Zb3VyIGVuZCBnb2FsIGlzIHRvIGNyZWF0ZSBsZWFkcywgaGF2ZSB0aGUgdmlzaXRvciBzaWduIHVwIG9yIGJvb2sgYSAxNS1taW4gY2FsbCB3aXRoIEZhcnphZC5gO1xuXG4vLyBIZWxwZXIgZnVuY3Rpb24gdG8gZm9ybWF0IGNvbnZlcnNhdGlvbiBoaXN0b3J5XG5mdW5jdGlvbiBmb3JtYXRIaXN0b3J5KGhpc3Rvcnk6IGFueVtdKSB7XG4gIGlmICghaGlzdG9yeSB8fCBoaXN0b3J5Lmxlbmd0aCA9PT0gMCkgcmV0dXJuIFwiXCI7XG4gIHJldHVybiBcIlxcblwiICsgaGlzdG9yeS5tYXAoKG1zZzogYW55KSA9PiBcbiAgICBgJHttc2cucm9sZSA9PT0gJ3VzZXInID8gJ1VzZXInIDogJ0Fzc2lzdGFudCd9OiAke21zZy5jb250ZW50fWBcbiAgKS5qb2luKFwiXFxuXCIpO1xufVxuXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gUE9TVChyZXE6IE5leHRSZXF1ZXN0KSB7XG4gIGNvbnN0IGJvZHkgPSBhd2FpdCByZXEuanNvbigpO1xuICBcbiAgaWYgKCFBUElfS0VZKSB7XG4gICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKFxuICAgICAgeyBlcnJvcjogXCJNaXNzaW5nIEdFTUlOSV9BUElfS0VZIGVudmlyb25tZW50IHZhcmlhYmxlXCIgfSxcbiAgICAgIHsgc3RhdHVzOiA1MDAgfVxuICAgICk7XG4gIH1cblxuICAvLyBDcmVhdGUgYWJvcnQgY29udHJvbGxlciBmb3IgdGltZW91dCBoYW5kbGluZ1xuICBjb25zdCBjb250cm9sbGVyID0gbmV3IEFib3J0Q29udHJvbGxlcigpO1xuICBjb25zdCB0aW1lb3V0SWQgPSBzZXRUaW1lb3V0KCgpID0+IGNvbnRyb2xsZXIuYWJvcnQoKSwgQVBJX1RJTUVPVVQpO1xuXG4gIHRyeSB7XG4gICAgLy8gT3B0aW1pemUgcGF5bG9hZCBieSBwcmUtZm9ybWF0dGluZyBoaXN0b3J5XG4gICAgY29uc3QgZm9ybWF0dGVkSGlzdG9yeSA9IGZvcm1hdEhpc3RvcnkoYm9keS5oaXN0b3J5KTtcbiAgICBcbiAgICAvLyBLZWVwIHRoZSBtZXNzYWdlIHNob3J0ZXIgYW5kIG1vcmUgZm9jdXNlZFxuICAgIGNvbnN0IHByb21wdCA9IGAke1NZU1RFTV9JTlNUUlVDVElPTn1cXG5cXG5Db252ZXJzYXRpb24gaGlzdG9yeToke2Zvcm1hdHRlZEhpc3Rvcnl9XFxuXFxuVXNlcidzIG5ldyBtZXNzYWdlOiAke2JvZHkubWVzc2FnZX1cXG5cXG5SZXNwb25kIGFzIEZhcnphZC1BSTpgO1xuICAgIFxuICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2goXG4gICAgICBgaHR0cHM6Ly9nZW5lcmF0aXZlbGFuZ3VhZ2UuZ29vZ2xlYXBpcy5jb20vdjFiZXRhL21vZGVscy9nZW1pbmktcHJvOmdlbmVyYXRlQ29udGVudD9rZXk9JHtBUElfS0VZfWAsXG4gICAgICB7XG4gICAgICAgIG1ldGhvZDogJ1BPU1QnLFxuICAgICAgICBoZWFkZXJzOiB7XG4gICAgICAgICAgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJyxcbiAgICAgICAgfSxcbiAgICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoe1xuICAgICAgICAgIGNvbnRlbnRzOiBbXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgIHJvbGU6IFwidXNlclwiLFxuICAgICAgICAgICAgICBwYXJ0czogW3sgdGV4dDogcHJvbXB0IH1dXG4gICAgICAgICAgICB9XG4gICAgICAgICAgXSxcbiAgICAgICAgICBnZW5lcmF0aW9uQ29uZmlnOiB7XG4gICAgICAgICAgICB0ZW1wZXJhdHVyZTogMC43LFxuICAgICAgICAgICAgbWF4T3V0cHV0VG9rZW5zOiAyMDQ4LFxuICAgICAgICAgICAgdG9wUDogMC44LFxuICAgICAgICAgICAgdG9wSzogNDBcbiAgICAgICAgICB9XG4gICAgICAgIH0pLFxuICAgICAgICBzaWduYWw6IGNvbnRyb2xsZXIuc2lnbmFsXG4gICAgICB9XG4gICAgKTtcblxuICAgIGNsZWFyVGltZW91dCh0aW1lb3V0SWQpO1xuXG4gICAgaWYgKCFyZXNwb25zZS5vaykge1xuICAgICAgY29uc3QgZXJyb3JUZXh0ID0gYXdhaXQgcmVzcG9uc2UudGV4dCgpO1xuICAgICAgY29uc29sZS5lcnJvcihcIkFQSSBSZXNwb25zZTpcIiwgZXJyb3JUZXh0KTtcbiAgICAgIHRocm93IG5ldyBFcnJvcihgQVBJIGNhbGwgZmFpbGVkIHdpdGggc3RhdHVzOiAke3Jlc3BvbnNlLnN0YXR1c31gKTtcbiAgICB9XG5cbiAgICBjb25zdCBkYXRhID0gYXdhaXQgcmVzcG9uc2UuanNvbigpO1xuICAgIGNvbnN0IHRleHQgPSBkYXRhLmNhbmRpZGF0ZXNbMF0/LmNvbnRlbnQ/LnBhcnRzWzBdPy50ZXh0O1xuXG4gICAgaWYgKCF0ZXh0KSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ05vIHRleHQgZ2VuZXJhdGVkJyk7XG4gICAgfVxuXG4gICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKHsgbWVzc2FnZTogdGV4dCwgc3RhdHVzOiAyMDAgfSk7XG4gIH0gY2F0Y2ggKGVycm9yOiBhbnkpIHtcbiAgICBjbGVhclRpbWVvdXQodGltZW91dElkKTtcbiAgICBcbiAgICBjb25zb2xlLmVycm9yKFwiRXJyb3Igc2VuZGluZyBtZXNzYWdlOlwiLCBlcnJvcik7XG4gICAgXG4gICAgLy8gQmV0dGVyIGVycm9yIHJlc3BvbnNlc1xuICAgIGlmIChlcnJvci5uYW1lID09PSAnQWJvcnRFcnJvcicpIHtcbiAgICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbihcbiAgICAgICAgeyBlcnJvcjogXCJSZXF1ZXN0IHRpbWVkIG91dFwiLCBzdGF0dXM6IDUwNCB9LFxuICAgICAgICB7IHN0YXR1czogNTA0IH1cbiAgICAgICk7XG4gICAgfVxuICAgIFxuICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbihcbiAgICAgIHsgZXJyb3I6IFwiRXJyb3IgcHJvY2Vzc2luZyB5b3VyIHJlcXVlc3RcIiwgZGV0YWlsczogZXJyb3IubWVzc2FnZSwgc3RhdHVzOiA1MDAgfSxcbiAgICAgIHsgc3RhdHVzOiA1MDAgfVxuICAgICk7XG4gIH1cbn1cbiJdLCJuYW1lcyI6WyJOZXh0UmVzcG9uc2UiLCJBUElfS0VZIiwicHJvY2VzcyIsImVudiIsIkdFTUlOSV9BUElfS0VZIiwiQVBJX1RJTUVPVVQiLCJTWVNURU1fSU5TVFJVQ1RJT04iLCJmb3JtYXRIaXN0b3J5IiwiaGlzdG9yeSIsImxlbmd0aCIsIm1hcCIsIm1zZyIsInJvbGUiLCJjb250ZW50Iiwiam9pbiIsIlBPU1QiLCJyZXEiLCJib2R5IiwianNvbiIsImVycm9yIiwic3RhdHVzIiwiY29udHJvbGxlciIsIkFib3J0Q29udHJvbGxlciIsInRpbWVvdXRJZCIsInNldFRpbWVvdXQiLCJhYm9ydCIsImZvcm1hdHRlZEhpc3RvcnkiLCJwcm9tcHQiLCJtZXNzYWdlIiwicmVzcG9uc2UiLCJmZXRjaCIsIm1ldGhvZCIsImhlYWRlcnMiLCJKU09OIiwic3RyaW5naWZ5IiwiY29udGVudHMiLCJwYXJ0cyIsInRleHQiLCJnZW5lcmF0aW9uQ29uZmlnIiwidGVtcGVyYXR1cmUiLCJtYXhPdXRwdXRUb2tlbnMiLCJ0b3BQIiwidG9wSyIsInNpZ25hbCIsImNsZWFyVGltZW91dCIsIm9rIiwiZXJyb3JUZXh0IiwiY29uc29sZSIsIkVycm9yIiwiZGF0YSIsImNhbmRpZGF0ZXMiLCJuYW1lIiwiZGV0YWlscyJdLCJpZ25vcmVMaXN0IjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./app/api/chat/route.ts\n");

/***/ }),

/***/ "(rsc)/./node_modules/.pnpm/next@15.2.4_@babel+core@7.26.10_react-dom@19.1.0_react@19.1.0__react@19.1.0/node_modules/next/dist/build/webpack/loaders/next-app-loader/index.js?name=app%2Fapi%2Fchat%2Froute&page=%2Fapi%2Fchat%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fchat%2Froute.ts&appDir=%2FUsers%2Ffarzad%2Fvscode%2Ffbcounsulting_v2%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2FUsers%2Ffarzad%2Fvscode%2Ffbcounsulting_v2&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!":
/*!***************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/next@15.2.4_@babel+core@7.26.10_react-dom@19.1.0_react@19.1.0__react@19.1.0/node_modules/next/dist/build/webpack/loaders/next-app-loader/index.js?name=app%2Fapi%2Fchat%2Froute&page=%2Fapi%2Fchat%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fchat%2Froute.ts&appDir=%2FUsers%2Ffarzad%2Fvscode%2Ffbcounsulting_v2%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2FUsers%2Ffarzad%2Fvscode%2Ffbcounsulting_v2&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D! ***!
  \***************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   patchFetch: () => (/* binding */ patchFetch),\n/* harmony export */   routeModule: () => (/* binding */ routeModule),\n/* harmony export */   serverHooks: () => (/* binding */ serverHooks),\n/* harmony export */   workAsyncStorage: () => (/* binding */ workAsyncStorage),\n/* harmony export */   workUnitAsyncStorage: () => (/* binding */ workUnitAsyncStorage)\n/* harmony export */ });\n/* harmony import */ var next_dist_server_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/dist/server/route-modules/app-route/module.compiled */ \"(rsc)/./node_modules/.pnpm/next@15.2.4_@babel+core@7.26.10_react-dom@19.1.0_react@19.1.0__react@19.1.0/node_modules/next/dist/server/route-modules/app-route/module.compiled.js\");\n/* harmony import */ var next_dist_server_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var next_dist_server_route_kind__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next/dist/server/route-kind */ \"(rsc)/./node_modules/.pnpm/next@15.2.4_@babel+core@7.26.10_react-dom@19.1.0_react@19.1.0__react@19.1.0/node_modules/next/dist/server/route-kind.js\");\n/* harmony import */ var next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/dist/server/lib/patch-fetch */ \"(rsc)/./node_modules/.pnpm/next@15.2.4_@babel+core@7.26.10_react-dom@19.1.0_react@19.1.0__react@19.1.0/node_modules/next/dist/server/lib/patch-fetch.js\");\n/* harmony import */ var next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _Users_farzad_vscode_fbcounsulting_v2_app_api_chat_route_ts__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./app/api/chat/route.ts */ \"(rsc)/./app/api/chat/route.ts\");\n\n\n\n\n// We inject the nextConfigOutput here so that we can use them in the route\n// module.\nconst nextConfigOutput = \"\"\nconst routeModule = new next_dist_server_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__.AppRouteRouteModule({\n    definition: {\n        kind: next_dist_server_route_kind__WEBPACK_IMPORTED_MODULE_1__.RouteKind.APP_ROUTE,\n        page: \"/api/chat/route\",\n        pathname: \"/api/chat\",\n        filename: \"route\",\n        bundlePath: \"app/api/chat/route\"\n    },\n    resolvedPagePath: \"/Users/farzad/vscode/fbcounsulting_v2/app/api/chat/route.ts\",\n    nextConfigOutput,\n    userland: _Users_farzad_vscode_fbcounsulting_v2_app_api_chat_route_ts__WEBPACK_IMPORTED_MODULE_3__\n});\n// Pull out the exports that we need to expose from the module. This should\n// be eliminated when we've moved the other routes to the new format. These\n// are used to hook into the route.\nconst { workAsyncStorage, workUnitAsyncStorage, serverHooks } = routeModule;\nfunction patchFetch() {\n    return (0,next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__.patchFetch)({\n        workAsyncStorage,\n        workUnitAsyncStorage\n    });\n}\n\n\n//# sourceMappingURL=app-route.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvLnBucG0vbmV4dEAxNS4yLjRfQGJhYmVsK2NvcmVANy4yNi4xMF9yZWFjdC1kb21AMTkuMS4wX3JlYWN0QDE5LjEuMF9fcmVhY3RAMTkuMS4wL25vZGVfbW9kdWxlcy9uZXh0L2Rpc3QvYnVpbGQvd2VicGFjay9sb2FkZXJzL25leHQtYXBwLWxvYWRlci9pbmRleC5qcz9uYW1lPWFwcCUyRmFwaSUyRmNoYXQlMkZyb3V0ZSZwYWdlPSUyRmFwaSUyRmNoYXQlMkZyb3V0ZSZhcHBQYXRocz0mcGFnZVBhdGg9cHJpdmF0ZS1uZXh0LWFwcC1kaXIlMkZhcGklMkZjaGF0JTJGcm91dGUudHMmYXBwRGlyPSUyRlVzZXJzJTJGZmFyemFkJTJGdnNjb2RlJTJGZmJjb3Vuc3VsdGluZ192MiUyRmFwcCZwYWdlRXh0ZW5zaW9ucz10c3gmcGFnZUV4dGVuc2lvbnM9dHMmcGFnZUV4dGVuc2lvbnM9anN4JnBhZ2VFeHRlbnNpb25zPWpzJnJvb3REaXI9JTJGVXNlcnMlMkZmYXJ6YWQlMkZ2c2NvZGUlMkZmYmNvdW5zdWx0aW5nX3YyJmlzRGV2PXRydWUmdHNjb25maWdQYXRoPXRzY29uZmlnLmpzb24mYmFzZVBhdGg9JmFzc2V0UHJlZml4PSZuZXh0Q29uZmlnT3V0cHV0PSZwcmVmZXJyZWRSZWdpb249Jm1pZGRsZXdhcmVDb25maWc9ZTMwJTNEISIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7OztBQUErRjtBQUN2QztBQUNxQjtBQUNXO0FBQ3hGO0FBQ0E7QUFDQTtBQUNBLHdCQUF3Qix5R0FBbUI7QUFDM0M7QUFDQSxjQUFjLGtFQUFTO0FBQ3ZCO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxZQUFZO0FBQ1osQ0FBQztBQUNEO0FBQ0E7QUFDQTtBQUNBLFFBQVEsc0RBQXNEO0FBQzlEO0FBQ0EsV0FBVyw0RUFBVztBQUN0QjtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQzBGOztBQUUxRiIsInNvdXJjZXMiOlsiIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IEFwcFJvdXRlUm91dGVNb2R1bGUgfSBmcm9tIFwibmV4dC9kaXN0L3NlcnZlci9yb3V0ZS1tb2R1bGVzL2FwcC1yb3V0ZS9tb2R1bGUuY29tcGlsZWRcIjtcbmltcG9ydCB7IFJvdXRlS2luZCB9IGZyb20gXCJuZXh0L2Rpc3Qvc2VydmVyL3JvdXRlLWtpbmRcIjtcbmltcG9ydCB7IHBhdGNoRmV0Y2ggYXMgX3BhdGNoRmV0Y2ggfSBmcm9tIFwibmV4dC9kaXN0L3NlcnZlci9saWIvcGF0Y2gtZmV0Y2hcIjtcbmltcG9ydCAqIGFzIHVzZXJsYW5kIGZyb20gXCIvVXNlcnMvZmFyemFkL3ZzY29kZS9mYmNvdW5zdWx0aW5nX3YyL2FwcC9hcGkvY2hhdC9yb3V0ZS50c1wiO1xuLy8gV2UgaW5qZWN0IHRoZSBuZXh0Q29uZmlnT3V0cHV0IGhlcmUgc28gdGhhdCB3ZSBjYW4gdXNlIHRoZW0gaW4gdGhlIHJvdXRlXG4vLyBtb2R1bGUuXG5jb25zdCBuZXh0Q29uZmlnT3V0cHV0ID0gXCJcIlxuY29uc3Qgcm91dGVNb2R1bGUgPSBuZXcgQXBwUm91dGVSb3V0ZU1vZHVsZSh7XG4gICAgZGVmaW5pdGlvbjoge1xuICAgICAgICBraW5kOiBSb3V0ZUtpbmQuQVBQX1JPVVRFLFxuICAgICAgICBwYWdlOiBcIi9hcGkvY2hhdC9yb3V0ZVwiLFxuICAgICAgICBwYXRobmFtZTogXCIvYXBpL2NoYXRcIixcbiAgICAgICAgZmlsZW5hbWU6IFwicm91dGVcIixcbiAgICAgICAgYnVuZGxlUGF0aDogXCJhcHAvYXBpL2NoYXQvcm91dGVcIlxuICAgIH0sXG4gICAgcmVzb2x2ZWRQYWdlUGF0aDogXCIvVXNlcnMvZmFyemFkL3ZzY29kZS9mYmNvdW5zdWx0aW5nX3YyL2FwcC9hcGkvY2hhdC9yb3V0ZS50c1wiLFxuICAgIG5leHRDb25maWdPdXRwdXQsXG4gICAgdXNlcmxhbmRcbn0pO1xuLy8gUHVsbCBvdXQgdGhlIGV4cG9ydHMgdGhhdCB3ZSBuZWVkIHRvIGV4cG9zZSBmcm9tIHRoZSBtb2R1bGUuIFRoaXMgc2hvdWxkXG4vLyBiZSBlbGltaW5hdGVkIHdoZW4gd2UndmUgbW92ZWQgdGhlIG90aGVyIHJvdXRlcyB0byB0aGUgbmV3IGZvcm1hdC4gVGhlc2Vcbi8vIGFyZSB1c2VkIHRvIGhvb2sgaW50byB0aGUgcm91dGUuXG5jb25zdCB7IHdvcmtBc3luY1N0b3JhZ2UsIHdvcmtVbml0QXN5bmNTdG9yYWdlLCBzZXJ2ZXJIb29rcyB9ID0gcm91dGVNb2R1bGU7XG5mdW5jdGlvbiBwYXRjaEZldGNoKCkge1xuICAgIHJldHVybiBfcGF0Y2hGZXRjaCh7XG4gICAgICAgIHdvcmtBc3luY1N0b3JhZ2UsXG4gICAgICAgIHdvcmtVbml0QXN5bmNTdG9yYWdlXG4gICAgfSk7XG59XG5leHBvcnQgeyByb3V0ZU1vZHVsZSwgd29ya0FzeW5jU3RvcmFnZSwgd29ya1VuaXRBc3luY1N0b3JhZ2UsIHNlcnZlckhvb2tzLCBwYXRjaEZldGNoLCAgfTtcblxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9YXBwLXJvdXRlLmpzLm1hcCJdLCJuYW1lcyI6W10sImlnbm9yZUxpc3QiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/.pnpm/next@15.2.4_@babel+core@7.26.10_react-dom@19.1.0_react@19.1.0__react@19.1.0/node_modules/next/dist/build/webpack/loaders/next-app-loader/index.js?name=app%2Fapi%2Fchat%2Froute&page=%2Fapi%2Fchat%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fchat%2Froute.ts&appDir=%2FUsers%2Ffarzad%2Fvscode%2Ffbcounsulting_v2%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2FUsers%2Ffarzad%2Fvscode%2Ffbcounsulting_v2&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!\n");

/***/ }),

/***/ "(rsc)/./node_modules/.pnpm/next@15.2.4_@babel+core@7.26.10_react-dom@19.1.0_react@19.1.0__react@19.1.0/node_modules/next/dist/build/webpack/loaders/next-flight-client-entry-loader.js?server=true!":
/*!*****************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/next@15.2.4_@babel+core@7.26.10_react-dom@19.1.0_react@19.1.0__react@19.1.0/node_modules/next/dist/build/webpack/loaders/next-flight-client-entry-loader.js?server=true! ***!
  \*****************************************************************************************************************************************************************************************************/
/***/ (() => {



/***/ }),

/***/ "(ssr)/./node_modules/.pnpm/next@15.2.4_@babel+core@7.26.10_react-dom@19.1.0_react@19.1.0__react@19.1.0/node_modules/next/dist/build/webpack/loaders/next-flight-client-entry-loader.js?server=true!":
/*!*****************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/next@15.2.4_@babel+core@7.26.10_react-dom@19.1.0_react@19.1.0__react@19.1.0/node_modules/next/dist/build/webpack/loaders/next-flight-client-entry-loader.js?server=true! ***!
  \*****************************************************************************************************************************************************************************************************/
/***/ (() => {



/***/ }),

/***/ "../app-render/after-task-async-storage.external":
/*!***********************************************************************************!*\
  !*** external "next/dist/server/app-render/after-task-async-storage.external.js" ***!
  \***********************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/server/app-render/after-task-async-storage.external.js");

/***/ }),

/***/ "../app-render/work-async-storage.external":
/*!*****************************************************************************!*\
  !*** external "next/dist/server/app-render/work-async-storage.external.js" ***!
  \*****************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/server/app-render/work-async-storage.external.js");

/***/ }),

/***/ "./work-unit-async-storage.external":
/*!**********************************************************************************!*\
  !*** external "next/dist/server/app-render/work-unit-async-storage.external.js" ***!
  \**********************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/server/app-render/work-unit-async-storage.external.js");

/***/ }),

/***/ "next/dist/compiled/next-server/app-page.runtime.dev.js":
/*!*************************************************************************!*\
  !*** external "next/dist/compiled/next-server/app-page.runtime.dev.js" ***!
  \*************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/compiled/next-server/app-page.runtime.dev.js");

/***/ }),

/***/ "next/dist/compiled/next-server/app-route.runtime.dev.js":
/*!**************************************************************************!*\
  !*** external "next/dist/compiled/next-server/app-route.runtime.dev.js" ***!
  \**************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/compiled/next-server/app-route.runtime.dev.js");

/***/ })

};
;

// load runtime
var __webpack_require__ = require("../../../webpack-runtime.js");
__webpack_require__.C(exports);
var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
var __webpack_exports__ = __webpack_require__.X(0, ["vendor-chunks/next@15.2.4_@babel+core@7.26.10_react-dom@19.1.0_react@19.1.0__react@19.1.0"], () => (__webpack_exec__("(rsc)/./node_modules/.pnpm/next@15.2.4_@babel+core@7.26.10_react-dom@19.1.0_react@19.1.0__react@19.1.0/node_modules/next/dist/build/webpack/loaders/next-app-loader/index.js?name=app%2Fapi%2Fchat%2Froute&page=%2Fapi%2Fchat%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fchat%2Froute.ts&appDir=%2FUsers%2Ffarzad%2Fvscode%2Ffbcounsulting_v2%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2FUsers%2Ffarzad%2Fvscode%2Ffbcounsulting_v2&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!")));
module.exports = __webpack_exports__;

})();